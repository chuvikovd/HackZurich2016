{"version":3,"sources":["sockets.ts"],"names":[],"mappings":";AAAA,0BAAwB,aAAa,CAAC,CAAA;AAGtC;IACI,iBAAY,MAAW;QACnB,IAAI,EAAE,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAC7C,IAAM,SAAS,GAAG,IAAI,qBAAS,CAAC,EAAE,CAAC,CAAC;QAEpC,EAAE,CAAC,EAAE,CAAC,YAAY,EAAE,UAAU,MAAM;YAChC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;YAEzB,MAAM,CAAC,EAAE,CAAC,MAAM,EAAE,UAAC,IAAI;gBACnB,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YACjC,CAAC,CAAC,CAAC;YAGH,MAAM,CAAC,EAAE,CAAC,SAAS,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC;YAExC,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,SAAS,CAAC,UAAU,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,EAAE,CAAC;IACd,CAAC;IACL,cAAC;AAAD,CApBA,AAoBC,IAAA;AApBY,eAAO,UAoBnB,CAAA;AAAA,CAAC","file":"sockets.js","sourcesContent":["import {Messenger} from './messenger';\r\nimport {Message} from '../client/models/Message'\r\n\r\nexport class Sockets {\r\n    constructor(server: any) {\r\n        let io = require('socket.io').listen(server);\r\n        const messenger = new Messenger(io);\r\n\r\n        io.on('connection', function (socket) {\r\n            console.log('new conn!');\r\n\r\n            socket.on('join', (user) => {\r\n                messenger.join(user, socket);\r\n            });\r\n\r\n\r\n            socket.on('message', messenger.receive);\r\n\r\n            socket.once('disconnect', messenger.disconnect);\r\n        });\r\n\r\n        return io;\r\n    }\r\n};"],"sourceRoot":"/source/"}